let swig = require('swig');

let subject = {
    id : "did:example:ebfeb1f712ebc6f1c276e12ec21",
    givenName : "Saul",
    additionalName : "Esteban",
    familyName : "Bustamante",
    gender : "Male",
    honorificPrefix : "HONORIFIC PREFIX",
    honorificSuffix : "HONORIFIC SUFFIX",
    photograph : "data:image/jpeg;base64,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"
  };
  
  let fhir = {
    version : "1.0.0"
  };
  
  let values = {
    credential_id : "http://example.edu/credentials/1872",
    issuer_ref : "https://example.edu/issuers/565049",
    issuance_date : "2010-01-01T19:73:24Z",
    expiration_date : "2011-01-01T19:73:24Z",
    subject : subject,
    fhir : fhir
  };

  let template = `{ 
    "@context" : [ "https://www.w3.org/2018/credentials/v1","https://schema.opencerta.org/fhir/202009"],
    "type": ["VerifiableCredential","FHIRCredential"],
    "id": "{{ credential_id }}",
    "issuer": "{{ issuer_ref }}",
    "issuanceDate": "{{ issuance_date }}",
    "expirationDate": "{{ expiration_date }}",
    "credentialSubject": {
        "type": "FHIRCredential",
        "id": "{{ subject.id }}",
        "givenName": "{{ subject.givenName}}",
        "additionalName": "{{ subject.additionalName}}",
        "familyName": "{{ subject.familyName}}",
        "gender": "{{ subject.gender}}",
        "honorificPrefix": "{% if subject.honorificPrefix %}{{ subject.honorificPrefix.toUpperCase()}}{% else %}{% endif %}",
        "honorificSuffix": "{% if subject.honorificSuffix %}{{ subject.honorificSuffix.toUpperCase()}}{% else %}{% endif %}",
        "photograph": "{{ subject.photograph}}",
        "fhirVersion": "{{ fhir.version }}"
    }
}`;

let result = swig.render(template, { locals : values});

console.log(JSON.parse(result));